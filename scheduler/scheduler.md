# 调度器

# 1.调度器分析
# 1.1 调度器
- 内核中安排进程执行的模块 scheduler
- 切换进程状态 process state 执行/可中断睡眠/不可中断睡眠/退出/暂停
- 调度器负责管理CPU
1. 选择某些就绪进程来执行
2. 打断正在执行的程序，让他们变为就绪态
3. 抢占式调度器：支持就绪态和执行态双向切换。有些调度器切换方向是单向的，只能从就绪态切换到执行态，不能把执行中的程序变成就绪态。
4. 每当一个程序变为就绪态时，马上调度另一个程序开始执行，交替使用CPU

- 就绪：获得了除了CPU之外的所有资源，等到CPU就立即执行
- 运行：获得CPU了，程序正在执行
- 阻塞：等待某个事件，无法执行，放弃CPU了。事件触发后，硬件发送信号，进程从阻塞态恢复到就绪态。接收SIGSTOP信号，也会切换到阻塞状态

[上下文切换] CPU中进程切换执行过程 context switch 将进程在CPU中切换执行的过程，内核承担此任务，负责重建和存储被切换掉之前的CPU状态

# 1.2 调度类sched\_class结构体

- sched\_class: 结构体标识调度类
- 源码位置: kernel/sched/sched.h

# 1.3调度类

1. dl\_sched\_class 
2. rt\_sched\_class 
3. fair\_sched\_class 
4. idle\_sched\_class 

# 2.完全公平调度器CFS


